<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<style type="text/css">
			canvas {
				display: block;
				border: 1px solid #aaa;
				margin: 10px auto;
			}
			#text{
				margin: 10px;
				text-align: center;
				font-size: 20px;
				font-weight: bold;
			}
			javascript:;button>a {
				display: inline-block;
				margin: 10px;
			}
		</style>
	</head>

	<body>
		<div id="text">
			source-over
		</div>
		<canvas id="myCanvas" width="" height=""></canvas>
		<div id="button">
			<a href="javascript:;">source-over</a>
			<a href="javascript:;">source-atop</a>
			<a href="javascript:;">source-in</a>
			<a href="javascript:;">source-out</a>
			<a href="javascript:;">destination-over</a>
			<a href="javascript:;">destination-atop</a>
			<a href="javascript:;">destination-in</a>
			<a href="javascript:;">destination-out</a>
			<a href="javascript:;">lighter</a>
			<a href="javascript:;">copy</a>
			<a href="javascript:;">xor</a>
		</div>
	</body>
	<script type="text/javascript">
		window.onload = function() {
			draw("source-over");
			var Buttons = document.getElementById("button").getElementsByTagName("a"),
				Div=document.getElementById("text");
				l = Buttons.length;
			for (var i = 0; i < l; i++) {
				Buttons[i].onclick=function(){
					draw(this.text);
					Div.innerText=this.text;
				}
			}
		}
		function draw(CompositeStyle) {
			var canvas = document.getElementById('myCanvas');
			canvas.height = 500;
			canvas.width = 500;
			var context = canvas.getContext("2d");
			context.clearRect(0,0,canvas.width,canvas.height);
			context.fillStyle = "blue";
			context.fillRect(50, 50, 300, 300);
			context.globalCompositeOperation = CompositeStyle;
			context.beginPath();
			context.arc(350,350,150,0,Math.PI*2);
			context.fillStyle = "red";
			context.fill();
		}
	</script>

	<script>
		var gco=new Array();
		gco.push("source-atop");
		gco.push("source-in");
		gco.push("source-out");
		gco.push("source-over");
		gco.push("destination-atop");
		gco.push("destination-in");
		gco.push("destination-out");
		gco.push("destination-over");
		gco.push("lighter");
		gco.push("copy");
		gco.push("xor");
		for (n=0;n<gco.length;n++)
			{
			document.write("<div id='p_" + n + "' style='float:left;'>" + gco[n] + ":<br>");
			var c=document.createElement("canvas");
			c.width=120;
			c.height=100;
			document.getElementById("p_" + n).appendChild(c);
			var ctx=c.getContext("2d");    
			ctx.fillStyle="blue";
			ctx.fillRect(10,10,50,50);
			ctx.globalCompositeOperation=gco[n];
			ctx.beginPath();
			ctx.fillStyle="red";
			ctx.arc(50,50,30,0,2*Math.PI);
			ctx.fill();
			document.write("</div>");	
			}
	</script>

</html>